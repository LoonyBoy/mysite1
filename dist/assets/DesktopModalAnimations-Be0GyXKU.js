import{A as h}from"./index-jUpl1YX4.js";class y{constructor(){this.prefersReducedMotion=!1;try{this.prefersReducedMotion=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{}this.timings={open:.5,close:.32,sectionStagger:.06,overlap:.12},this.easing={in:"power3.out",out:"power2.in",line:"power2.out"}}getContentRoot(i){if(!i)return null;const t=[".about-modal",'[data-testid="projects-modal"]',".services-modal",".projects-modal",".modal-content"];for(const o of t){const s=i.querySelector(o);if(s)return s}return i.querySelector('[class*="CardContent"], .card-content, [data-stagger-root]')||i}collectSections(i){const t=n=>Array.from(i.querySelectorAll(n)),e=t("h1, h2, h3, .title, .section-title"),o=t('[class*="Underline"], .underline'),s=[...t(".about-left, .about-section, .summary, .lead, .subtitle"),...t("p, .intro, .description"),...t(".faq-accordion summary")],r=[...t('img, video, canvas, .hero, .about-photo, [class*="Photo"], [class*="Image"]')],l=[...t(".projects-grid, .feature-grid, .pricing-grid, .grid, ul, ol"),...t(".faq-accordion .faq-content")],c=t('button, .button, a[role="button"], .actions, .cta');return{headings:e,underlines:o,primary:s,media:r,grids:l,actions:c}}prepareModalOpen(i,t=null){const e=t||this.getContentRoot(i);if(!e||this.prefersReducedMotion)return;const{headings:o,underlines:s,primary:r,media:l,grids:c,actions:n}=this.collectSections(e);this.setInitial(o,{opacity:0,y:10,willChange:"opacity, transform"}),this.setInitial(r,{opacity:0,y:12,willChange:"opacity, transform"}),this.setInitial(l,{opacity:0,y:14,scale:.98,willChange:"opacity, transform"}),this.setInitial(c,{opacity:0,y:16,willChange:"opacity, transform"}),this.setInitial(n,{opacity:0,y:12,willChange:"opacity, transform"}),this.setInitial(s,{scaleX:0,transformOrigin:"left center",opacity:1,willChange:"transform"})}setInitial(i,t){!i||i.length===0||h.set(i,t)}animateModalOpen(i,t=null){if(!i)return null;if(this.prefersReducedMotion){const g=t||this.getContentRoot(i);return g&&h.set(g,{opacity:1,y:0}),null}const e=t||this.getContentRoot(i);if(!e)return null;const{headings:o,underlines:s,primary:r,media:l,grids:c,actions:n}=this.collectSections(e);this.setInitial(o,{opacity:0,y:10,willChange:"opacity, transform"}),this.setInitial(r,{opacity:0,y:12,willChange:"opacity, transform"}),this.setInitial(l,{opacity:0,y:14,scale:.98,willChange:"opacity, transform"}),this.setInitial(c,{opacity:0,y:16,willChange:"opacity, transform"}),this.setInitial(n,{opacity:0,y:12,willChange:"opacity, transform"}),this.setInitial(s,{scaleX:0,transformOrigin:"left center",opacity:1,willChange:"transform"});const a=h.timeline({defaults:{ease:this.easing.in}});return a.to(e,{opacity:1,y:0,duration:this.timings.open*.35,ease:"power2.out"},0),o.length&&a.to(o,{opacity:1,y:0,duration:this.timings.open*.6,stagger:this.timings.sectionStagger},0),s.length&&a.to(s,{scaleX:1,duration:this.timings.open*.45,ease:this.easing.line},this.timings.sectionStagger*2),r.length&&a.to(r,{opacity:1,y:0,duration:this.timings.open*.65,stagger:this.timings.sectionStagger},this.timings.overlap),l.length&&a.to(l,{opacity:1,y:0,scale:1,duration:this.timings.open*.7,stagger:this.timings.sectionStagger},this.timings.overlap*1.2),c.length&&a.to(c,{opacity:1,y:0,duration:this.timings.open*.7,stagger:this.timings.sectionStagger},this.timings.overlap*1.5),n.length&&a.to(n,{opacity:1,y:0,duration:this.timings.open*.6,stagger:this.timings.sectionStagger},this.timings.overlap*1.8),a.add(()=>{[o,r,l,c,n].forEach(g=>g&&g.forEach(p=>{try{p.style.willChange="auto"}catch{}}))}),a}animateModalClose(i,t=null){if(!i)return null;const e=t||this.getContentRoot(i);if(!e)return null;if(this.prefersReducedMotion)return h.set(e,{opacity:0}),null;const{headings:o,primary:s,media:r,grids:l,actions:c,underlines:n}=this.collectSections(e),a=[...o||[],...s||[],...r||[],...l||[],...c||[]],g=h.timeline({defaults:{ease:this.easing.out,duration:this.timings.close*.7}});return g.to(e,{opacity:.001,duration:this.timings.close*.6},0),n&&n.length&&g.to(n,{scaleX:0,duration:this.timings.close*.5},0),a.length&&g.to(a.reverse(),{opacity:0,y:-8,stagger:this.timings.sectionStagger*.8},0),g}}export{y as default};
